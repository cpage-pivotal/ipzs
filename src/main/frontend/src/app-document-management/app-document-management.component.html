    <div class="document-management-container">
      <!-- Header Section -->
      <mat-card class="header-card">
        <mat-card-header>
          <mat-card-title>
            <mat-icon>description</mat-icon>
            {{ translationService.t('documents.title') }}
          </mat-card-title>
          <mat-card-subtitle>
            {{ translationService.t('documents.subtitle') }}
          </mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <div class="action-buttons">
            <button
              mat-raised-button
              color="primary"
              (click)="generateSampleData()"
              [disabled]="loading()"
              [attr.aria-label]="translationService.t('documents.generate') + ' sample data'"
              type="button">
              @if (loading()) {
                <mat-spinner diameter="20"></mat-spinner>
                {{ translationService.t('documents.generating') }}
              } @else {
                <ng-container>
                  <mat-icon>add</mat-icon>
                  {{ translationService.t('documents.generate') }}
                </ng-container>
              }
            </button>

            <button
              mat-raised-button
              color="accent"
              (click)="refreshDocuments()"
              [disabled]="loading()">
              <mat-icon>refresh</mat-icon>
              {{ translationService.t('documents.refresh') }}
            </button>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Statistics Cards -->
      <div class="stats-grid">
        <mat-card class="stat-card">
          <mat-card-content>
            <div class="stat-content">
              <mat-icon color="primary">description</mat-icon>
              <div class="stat-numbers">
                <div class="stat-value">{{ totalDocuments() }}</div>
                <div class="stat-label">{{ translationService.t('stats.total') }}</div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>

        <mat-card class="stat-card">
          <mat-card-content>
            <div class="stat-content">
              <mat-icon color="accent">update</mat-icon>
              <div class="stat-numbers">
                <div class="stat-value">{{ currentDocuments() }}</div>
                <div class="stat-label">{{ translationService.t('stats.current') }}</div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>

        <mat-card class="stat-card">
          <mat-card-content>
            <div class="stat-content">
              <mat-icon color="warn">history</mat-icon>
              <div class="stat-numbers">
                <div class="stat-value">{{ supersededDocuments() }}</div>
                <div class="stat-label">{{ translationService.t('stats.superseded') }}</div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>

      <!-- Document Search and Filters -->
      <mat-card class="search-card">
        <mat-card-content>
          <div class="search-section">
            <mat-form-field appearance="outline" class="search-field">
              <mat-label>{{ translationService.t('documents.search') }}</mat-label>
              <input
                matInput
                [(ngModel)]="searchQuery"
                (input)="onSearchChange()"
                [placeholder]="translationService.t('documents.search.placeholder')">
              <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline" class="date-field">
              <mat-label>{{ translationService.t('documents.contextDate') }}</mat-label>
              <input
                matInput
                [matDatepicker]="picker"
                [(ngModel)]="contextDate"
                (dateChange)="onDateChange()"
                [placeholder]="translationService.t('documents.contextDate.placeholder')">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Document List -->
      <mat-card class="documents-card">
        <mat-card-header>
          <mat-card-title>
            {{ translationService.t('nav.documents') }}
            @if (filteredDocuments().length !== totalDocuments()) {
              <span class="filter-count">({{ filteredDocuments().length }} of {{ totalDocuments() }})</span>
            }
          </mat-card-title>
        </mat-card-header>

        <mat-card-content>
          @if (loading()) {
            <div class="loading-container">
              <mat-spinner></mat-spinner>
              <p>{{ translationService.t('documents.loading') }}</p>
            </div>
          } @else if (filteredDocuments().length === 0) {
            <div class="empty-state">
              <mat-icon>description</mat-icon>
              <h3>{{ translationService.t('documents.noResults') }}</h3>
              <p>{{ translationService.t('documents.noResults.subtitle') }}</p>
            </div>
          } @else {
            <mat-accordion multi="true">
              @for (doc of filteredDocuments(); track doc.documentId) {
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      <div class="document-title">
                        <mat-icon
                          [color]="getDocumentStatusColor(doc)"
                          class="document-icon">
                          {{ getDocumentIcon(doc) }}
                        </mat-icon>
                        {{ doc.title }}
                      </div>
                    </mat-panel-title>
                    <mat-panel-description>
                      <div class="document-meta">
                        <span class="document-type">{{ doc.documentType }}</span>
                        <span class="document-date">
                          {{ translationService.t('document.effective.short') }}: {{ doc.effectiveDate | date:'shortDate' }}
                        </span>
                      </div>
                    </mat-panel-description>
                  </mat-expansion-panel-header>

                  <div class="document-details">
                    <div class="document-info">
                      <div class="info-row">
                        <strong>{{ translationService.t('document.id') }}:</strong> {{ doc.documentId }}
                      </div>
                      @if (doc.documentNumber) {
                        <div class="info-row">
                          <strong>{{ translationService.t('document.number') }}:</strong> {{ doc.documentNumber }}
                        </div>
                      }
                      <div class="info-row">
                        <strong>{{ translationService.t('document.authority') }}:</strong> {{ doc.issuingAuthority }}
                      </div>
                      <div class="info-row">
                        <strong>{{ translationService.t('document.publication') }}:</strong> {{ doc.publicationDate | date:'longDate' }}
                      </div>
                      <div class="info-row">
                        <strong>{{ translationService.t('document.effective') }}:</strong> {{ doc.effectiveDate | date:'longDate' }}
                      </div>
                      @if (doc.expirationDate) {
                        <div class="info-row">
                          <strong>{{ translationService.t('document.expiration') }}:</strong> {{ doc.expirationDate | date:'longDate' }}
                        </div>
                      }
                    </div>

                    @if (doc.keyProvisions && doc.keyProvisions.length > 0) {
                      <div class="provisions-section">
                        <h4>{{ translationService.t('document.provisions') }}</h4>
                        <mat-chip-set>
                          @for (provision of doc.keyProvisions; track provision) {
                            <mat-chip>{{ provision }}</mat-chip>
                          }
                        </mat-chip-set>
                      </div>
                    }

                    @if (doc.supersedes && doc.supersedes.length > 0) {
                      <div class="relationship-section">
                        <h4>{{ translationService.t('document.supersedes') }}</h4>
                        <mat-chip-set>
                          @for (superseded of doc.supersedes; track superseded) {
                            <mat-chip color="warn">{{ superseded }}</mat-chip>
                          }
                        </mat-chip-set>
                      </div>
                    }

                    @if (doc.supersededBy) {
                      <div class="relationship-section">
                        <h4>{{ translationService.t('document.supersededBy') }}</h4>
                        <mat-chip color="accent">{{ doc.supersededBy }}</mat-chip>
                      </div>
                    }
                  </div>
                </mat-expansion-panel>
              }
            </mat-accordion>
          }
        </mat-card-content>
      </mat-card>
    </div>